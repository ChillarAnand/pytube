<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>pytube &middot; Why is Python slow and how PyPy can help?</title>

    <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="pytube Full Atom Feed" />
    <link href="/feeds/pycon-us-2011.atom.xml" type="application/atom+xml" rel="alternate" title="pytube Categories Atom Feed" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          rel="stylesheet" 
          integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw=="
          crossorigin="anonymous">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="/theme/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/theme/css/base.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->



    <meta name="tags" content="jit" />
    <meta name="tags" content="pycon" />
    <meta name="tags" content="pycon2011" />
    <meta name="tags" content="pypy" />
    <meta name="tags" content="vm" />
</head>

<body>
  <div class="container">
    <header id="banner" class="header clearfix">
      <nav>
        <ul class="nav nav-pills pull-right">
            <li role="presentation">
            <a href="/categories.html">Categories</a>
          </li>
        </ul>
      </nav>
      <h3 class="text-muted">
        <a href="/">pytube <strong></strong></a>
      </h3>
    </header>

<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/pycon-us-2011/pycon-us-2011-why-is-python-slow-and-how-pypy-can-help.html" rel="bookmark"
         title="Permalink to Why is Python slow and how PyPy can help?">Why is Python slow and how PyPy can help?</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2012-02-23T04:20:00+00:00">
      Thu 23 February 2012
    </time>
    <time class="modified" datetime="2014-04-08T20:28:00+00:00">
      Tue 08 April 2014
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="/author/alex-gaynor.html">Alex Gaynor</a>
          <a class="url fn" href="/author/maciej-fijalkowski.html">Maciej Fijalkowski</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <a class="reference external image-reference" href="http://05d2db1380b6504cc981-8cbed8cf7e3a131cd8f1c3e383d10041.r93.cf2.rackcdn.com/pycon-us-2011/427_why-is-python-slow-and-how-pypy-can-help.mp4"><img alt="Why is Python slow and how PyPy can help?" src="http://a.images.blip.tv/Pycon-PyCon2011WhyIsPythonSlowAndHowPyPyCanHelp525.png" style="width: 600px;" /></a>
<div class="section" id="description">
<h2>Description</h2>
<p>Why is Python slow and how PyPy can help?</p>
<p>Presented by Maciej Fijalkowski and Alex Gaynor</p>
<p>PyPy is a virtual machine for Python, featuring an advanced just in time
compiler, which can deliver exceptional performance. This talk is going to be
a deep dive into what exactly makes Python such a hard language to optimize,
how PyPy is organized, and what optimizations our JIT can do (and what it
can't do) for your code.</p>
<p>Abstract</p>
<p>The talk will detail how a python interpreter works internally and why some
operations are costly. We'll go through several python features, how they
work, why they're slow in CPython and how we're fixing it.</p>
<p>The list of mentioned features is not exhaustive, however we will try to focus
at least on the following:</p>
<blockquote>
<ul class="simple">
<li>Dynamic language - In Python code we have no known types, like a statically typed language. Even operations like &quot;a + b&quot; can do anything, unless we know more about the code, and the types it is operating on.</li>
<li>Frame introspection - Frame objects need to be allocated for every function call, and all local variables are stored on the frame, and must be accessible from further down the call stack.</li>
</ul>
</blockquote>
<p>PyPy uses a novel approach called &quot;virtualizables&quot; which makes it possible to
avoid frame allocation in most common cases.</p>
<blockquote>
<ul class="simple">
<li>Object model - All user defined Python objects have a dictionary which stores their attributes, as does every type. When Python does an attribute lookup this requires at least two dictionary lookups.</li>
</ul>
</blockquote>
<p>In PyPy we use an approach similar to the one used by V8 with hidden classes
(except more PyPy specific) called map dictionaries and other optimizations.</p>
<blockquote>
<ul class="simple">
<li>FFI calls - Calling C from Python is costly and hard to optimize. In PyPy we expose C APIs to Python code via ctypes. This part explains how we can optimize ctypes calls.</li>
<li>array module - Users of CPython's array module probably know it can save them quite a bit of memory, however it's also slower than using a list, due to the overhead of boxing and unboxing on every operations. Here we will tie everything together and describe how the array module is much faster with PyPy's JIT, combining our optimizations to: unbox values, remove the dynamicism within traces, and deliver great performance.</li>
</ul>
</blockquote>
</div>
<div class="section" id="details">
<h2>Details</h2>
<ul class="simple">
<li>Category: PyCon US 2011</li>
<li>Language: English</li>
<li>Direct Link: <a class="reference external" href="http://05d2db1380b6504cc981-8cbed8cf7e3a131cd8f1c3e383d10041.r93.cf2.rackcdn.com/pycon-us-2011/427_why-is-python-slow-and-how-pypy-can-help.mp4">http://05d2db1380b6504cc981-8cbed8cf7e3a131cd8f1c3e383d10041.r93.cf2.rackcdn.com/pycon-us-2011/427_why-is-python-slow-and-how-pypy-can-help.mp4</a></li>
<li>Tags: jit, pycon, pycon2011, pypy, vm</li>
</ul>
</div>

  </div><!-- /.entry-content -->
</section>

    <footer class="footer">
      <p>&copy; 2016 pytube</p>
    </footer>

    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/theme/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>